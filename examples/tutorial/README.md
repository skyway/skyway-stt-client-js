# SkyWay STT ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¢ãƒ—ãƒª

SkyWay Room SDKã¨SkyWay STT Clientã‚’ä½¿ç”¨ã—ãŸåŸºæœ¬çš„ãªãƒ“ãƒ‡ã‚ªä¼šè­°ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ–‡å­—èµ·ã“ã—ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Vanilla-JSï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¸ä½¿ç”¨ï¼‰ã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚

## æ©Ÿèƒ½

- ğŸ¥ **ãƒ“ãƒ‡ã‚ªä¼šè­°** - è¤‡æ•°å‚åŠ è€…ã§ã®ãƒ“ãƒ‡ã‚ªãƒ»éŸ³å£°é€šè©±
- ğŸ—£ï¸ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ–‡å­—èµ·ã“ã—** - éŸ³å£°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›
- ğŸŒ **ç¿»è¨³ãƒ¢ãƒ¼ãƒ‰** - æ—¥æœ¬èªã¨è‹±èªã®è‡ªå‹•ç¿»è¨³ã‚µãƒãƒ¼ãƒˆ
- ğŸ“ **æ–‡å­—èµ·ã“ã—çµæœè¡¨ç¤º** - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¨è©±è€…åä»˜ãã®æ–‡å­—èµ·ã“ã—çµæœ

## å‰ææ¡ä»¶

- Node.js 22ä»¥ä¸Šã€npmã€yarnã€ã¾ãŸã¯pnpm
- SkyWayã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨APIã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•ï¼ˆ [examples/server](../server/) ã‚’å‚ç…§ï¼‰

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
```bash
npm install
# ã¾ãŸã¯
yarn install
# ã¾ãŸã¯
pnpm install
```

## ä½¿ã„æ–¹

### 1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•

[examples/serverã®README](../server/README.md)ã«å¾“ã£ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã€èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚
```bash
npm run dev
# ã¾ãŸã¯
yarn dev
# ã¾ãŸã¯
pnpm dev
```

### 3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:5173 ã‚’é–‹ãã¾ã™ã€‚

### 3. ãƒ«ãƒ¼ãƒ ã«å‚åŠ 

1. **Room Name**ã‚’å…¥åŠ›ï¼ˆä¾‹: `my-room`ï¼‰
2. **Member Name**ã‚’å…¥åŠ›ï¼ˆä¾‹: `Taro`ï¼‰
3. **Join**ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

### 4. æ–‡å­—èµ·ã“ã—ã‚’ä½¿ç”¨

1. **Mode**ã‚’é¸æŠ:
   - `transcription`: æ—¥æœ¬èªã®æ–‡å­—èµ·ã“ã—ã®ã¿
   - `translation`: æ—¥æœ¬èªã¨è‹±èªã®ç¿»è¨³ä»˜ãæ–‡å­—èµ·ã“ã—
2. **Start**ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ–‡å­—èµ·ã“ã—ã‚’é–‹å§‹
3. è©±ã™ã¨å³å´ã®ãƒ‘ãƒãƒ«ã«æ–‡å­—èµ·ã“ã—çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™
4. **End**ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ–‡å­—èµ·ã“ã—ã‚’çµ‚äº†

### 5. ãƒ«ãƒ¼ãƒ ã‚’é€€å‡º

**Leave**ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ«ãƒ¼ãƒ ã‚’é€€å‡ºã—ã¾ã™ã€‚

## ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹é€ 

```
tutorial/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.js          # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ index.html           # HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ style.css            # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ package.json         # ä¾å­˜é–¢ä¿‚ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ vite.config.js       # Viteè¨­å®š
```

## ä¸»ãªå®Ÿè£…å†…å®¹

### ãƒ“ãƒ‡ã‚ªé€šè©±ã®å®Ÿè£…

- `SkyWayContext`ã§SkyWayã«æ¥ç¶š
- `SkyWayRoom.Find`ã§ãƒ«ãƒ¼ãƒ ã‚’æ¤œç´¢
- `room.join`ã§ãƒ«ãƒ¼ãƒ ã«å‚åŠ 
- `me.publish`ã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ã‚’é…ä¿¡
- `me.subscribe`ã§ãƒªãƒ¢ãƒ¼ãƒˆãƒ¡ãƒ‡ã‚£ã‚¢ã‚’å—ä¿¡

### STTã®å®Ÿè£…

```javascript
// STT Clientã®åˆæœŸåŒ–
const sttClient = new SkyWaySTTClient(context, me, {
  domain: "stt-dispatcher.staging.skyway.ntt.com",
});

// æ–‡å­—èµ·ã“ã—çµæœã®å—ä¿¡
sttClient.onSTTResultReceived.add(({ result }) => {
  console.log(result.text);
});
```

### æ–‡å­—èµ·ã“ã—ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®åˆ¶å¾¡

```javascript
// é–‹å§‹
await fetch(`${SERVER_HOST}/rooms/${roomName}/start`, {
  method: "POST",
  headers: {
    Authorization: `Bearer ${token}`,
    "Content-Type": "application/json",
  },
  body: JSON.stringify({ sttMode: "transcription" }),
});

// çµ‚äº†
await fetch(`${SERVER_HOST}/rooms/${roomName}/end`, {
  method: "DELETE",
  headers: { Authorization: `Bearer ${token}` },
});
```

## STTãƒ¢ãƒ¼ãƒ‰

- **transcription**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°èªè­˜ï¼ˆæ–‡å­—èµ·ã“ã—ï¼‰
- **translation**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°èªè­˜ã¨ç¿»è¨³ï¼ˆæ—¥æœ¬èª â†”ï¸ è‹±èªï¼‰

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- Vanilla-JSï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¸ä½¿ç”¨ï¼‰
- @skyway-sdk/room - WebRTCé€šä¿¡
- skyway-stt-client - éŸ³å£°èªè­˜ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- Vite - ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«

## å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚¢ãƒ—ãƒªã¯ã€SkyWay STT Clientã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ã‚’å­¦ã¶ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚ˆã‚Šé«˜åº¦ãªå®Ÿè£…ä¾‹ã«ã¤ã„ã¦ã¯ã€[examples/advanced ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª](../advanced/) ã®Reactã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
